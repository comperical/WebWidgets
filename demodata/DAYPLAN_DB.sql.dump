PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE day_plan_main (id int, day_code varchar(10), end_hour int, half_hour smallint, short_desc varchar(100), primary key(id));
INSERT INTO day_plan_main VALUES(407694792,'2023-12-12',8,0,'Wake Up');
INSERT INTO day_plan_main VALUES(-31462836,'2023-12-12',8,1,'Shower, Get Dressed');
INSERT INTO day_plan_main VALUES(-1283800034,'2023-12-12',9,0,'Bus to Work');
INSERT INTO day_plan_main VALUES(-1529366792,'2023-12-12',9,1,'Breakfast at Work Cafe');
INSERT INTO day_plan_main VALUES(-2141867530,'2023-12-12',18,0,'Work, lunch at cafeteria');
INSERT INTO day_plan_main VALUES(-668727849,'2023-12-12',19,0,'Gym');
INSERT INTO day_plan_main VALUES(456668472,'2023-12-12',21,1,'Dinner with Friends');
INSERT INTO day_plan_main VALUES(-1181833949,'2023-12-11',8,0,'Wake up');
INSERT INTO day_plan_main VALUES(-1307816595,'2023-12-11',9,0,'Quick Coffee+Bagel, Get Gear together');
INSERT INTO day_plan_main VALUES(-453004923,'2023-12-11',9,1,'Drive to Beach');
INSERT INTO day_plan_main VALUES(-57269273,'2023-12-11',16,0,'Beach time! Light picnic lunch');
INSERT INTO day_plan_main VALUES(-538136767,'2023-12-11',17,0,'Leave early, drive to Boston');
INSERT INTO day_plan_main VALUES(-1085098872,'2023-12-11',21,0,'Party at Mike''s place');
INSERT INTO day_plan_main VALUES(-1265683110,'2023-12-11',22,0,'Drive Home');
INSERT INTO day_plan_main VALUES(137191073,'2023-12-03',8,0,'Wake Up');
INSERT INTO day_plan_main VALUES(142626682,'2023-12-03',9,1,'Quick Breakfast, Get Dressed');
INSERT INTO day_plan_main VALUES(1729403761,'2023-12-03',11,1,'Church');
INSERT INTO day_plan_main VALUES(529888321,'2023-12-03',13,1,'Brunch with Church Friends');
INSERT INTO day_plan_main VALUES(-36136063,'2023-12-03',17,0,'Drive home, chores, relax');
INSERT INTO day_plan_main VALUES(1072864474,'2023-12-03',20,0,'Family Dinner at Grandma''s');
INSERT INTO day_plan_main VALUES(-2119506917,'2023-12-03',22,0,'More Chores, Read');
CREATE TABLE day_template(id int, short_name varchar(30), full_desc varchar(300), is_active smallint default 1, primary key(id));
INSERT INTO day_template VALUES(-896406053,'Normal Work+Gym Day','',1);
INSERT INTO day_template VALUES(1085849201,'Saturday Beach Day','',1);
INSERT INTO day_template VALUES(-466353542,'Sunday Church and Family Dinner','',1);
CREATE TABLE template_sub (id int, temp_id int, end_hour int, half_hour smallint, short_desc varchar(100), primary key(id), foreign key(temp_id) references day_template(id));
INSERT INTO template_sub VALUES(1814859689,-466353542,8,0,'Wake Up');
INSERT INTO template_sub VALUES(1174460518,-466353542,9,1,'Quick Breakfast, Get Dressed');
INSERT INTO template_sub VALUES(1443080660,-466353542,11,1,'Church');
INSERT INTO template_sub VALUES(-185433486,-466353542,13,1,'Brunch with Church Friends');
INSERT INTO template_sub VALUES(60222887,-466353542,17,0,'Drive home, chores, relax');
INSERT INTO template_sub VALUES(2003318167,-466353542,20,0,'Family Dinner at Grandma''s');
INSERT INTO template_sub VALUES(-966283808,-466353542,22,0,'More Chores, Read');
INSERT INTO template_sub VALUES(181338812,1085849201,8,0,'Wake up');
INSERT INTO template_sub VALUES(-708967871,1085849201,9,0,'Quick Coffee+Bagel, Get Gear together');
INSERT INTO template_sub VALUES(813785780,1085849201,9,1,'Drive to Beach');
INSERT INTO template_sub VALUES(-1162205739,1085849201,16,0,'Beach time! Light picnic lunch');
INSERT INTO template_sub VALUES(-1644506381,1085849201,18,0,'Early Dinner at Restaurant near Beach');
INSERT INTO template_sub VALUES(-950654809,1085849201,18,1,'Drive Home');
INSERT INTO template_sub VALUES(-402814380,1085849201,22,0,'Read or Watch TV');
INSERT INTO template_sub VALUES(-942572182,-896406053,8,0,'Wake Up');
INSERT INTO template_sub VALUES(-727412398,-896406053,8,1,'Shower, Get Dressed');
INSERT INTO template_sub VALUES(-1370018980,-896406053,9,0,'Bus to Work');
INSERT INTO template_sub VALUES(-1281903196,-896406053,9,1,'Breakfast at Work Cafe');
INSERT INTO template_sub VALUES(-269697774,-896406053,18,0,'Work, lunch at cafeteria');
INSERT INTO template_sub VALUES(167127385,-896406053,19,0,'Gym');
INSERT INTO template_sub VALUES(1425242172,-896406053,20,0,'Dinner');
INSERT INTO template_sub VALUES(633802222,-896406053,22,0,'Read, prep for next day');
CREATE VIEW recent_day_plan_main AS SELECT * FROM day_plan_main WHERE strftime('%s', 'now') - strftime('%s', day_code) < 30 * 24 * 60 * 60;
COMMIT;
